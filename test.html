<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue 3 Custom Event Listener Example</title>
  <!-- 引入 Vue 3 -->
  <script src="https://cdn.jsdelivr.net/npm/vue@3.0.0/dist/vue.global.prod.js"></script>

</head>
<body>

<div id="app">
  <!-- 子组件触发的自定义事件会在父组件中调用 handleEvent 方法 -->
  <my-component @my-event="handleEvent"></my-component>
</div>

<script>
// 注册一个名为 my-component 的全局组件
Vue.component('my-component', {
  template: '<div>My Component</div>',
  mounted() {
    // 在组件挂载后触发一个自定义事件 'my-event'
    this.$emit('my-event', 'Data from my-component');
  }
});

// 创建一个 Vue 实例
const app = Vue.createApp({
  methods: {
    // 处理子组件触发的自定义事件
    handleEvent(data) {
      console.log('Received custom event in parent component:', data);
    }
  }
});

// 挂载 Vue 应用到 #app
app.mount('#app');
</script>

</body>
</html>
